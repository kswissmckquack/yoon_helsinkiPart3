{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Numbers.js","components/Success.js","components/Error.js","services/persons.js","components/App.js","index.js"],"names":["Filter","searchText","handleSearchText","value","onChange","Form","addPerson","newName","handleNewName","newPhoneNumber","handleNewPhoneNumber","onSubmit","type","Person","person","removePerson","name","phoneNumber","onClick","id","Numbers","persons","map","key","Success","message","className","Error","error","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","useEffect","personService","setNewName","setNewPhoneNumber","showAll","setShowAll","setSearchText","setMessage","setError","personsToShow","filter","toUpperCase","includes","event","target","console","log","preventDefault","personObject","p","length","oldPerson","updatePerson","window","alert","returnedPerson","setTimeout","catch","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.96362991.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nconst Filter = ({searchText,handleSearchText}) => {\n  return(\n    <div>\n      filter shown with: <input value={searchText} onChange={handleSearchText}/>\n    </div>\n  )\n}\n\nexport default Filter\n","import React, { useState } from 'react'\n\nconst Form = ({addPerson,newName,handleNewName,newPhoneNumber,handleNewPhoneNumber}) => {\n  return(\n    <form onSubmit={addPerson}>\n      <div>\n      <h2>Add New Entry</h2>\n        name: <input value={newName} onChange={handleNewName} /><br></br>\n        phoneNumber: <input value={newPhoneNumber} onChange={handleNewPhoneNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default Form\n","import React, { useState } from 'react'\n\nconst Person = ({person,removePerson}) => {\n  return(\n    <>\n    <p>{person.name} {person.phoneNumber}</p>\n    <button onClick={removePerson} value={person.id}>Delete</button>\n    </>\n  )\n}\n\nexport default Person\n","import React, { useState } from 'react'\nimport Person from './Person'\n\nconst Numbers = ({persons,removePerson}) => {\n  return(\n    <>\n      <h2>Numbers</h2>\n      {persons.map(person => <Person key={person.name} person={person} removePerson={() => removePerson(person.id)}/>)}\n    </>\n  )\n}\n\nexport default Numbers\n","import React from 'react'\n\nconst Success = ({message}) => {\n  if(message === null  || message === ''){\n    return null\n  }\n  return(<p className='success'>{message}</p>)\n}\n\nexport default Success\n","import React from 'react'\n\nconst Error = ({error}) => {\n  if(error === null  || error === ''){\n    return null\n  }\n  return(<p className='error'>{error}</p>)\n}\n\nexport default Error\n","import axios from 'axios'\nconst baseUrl = '/api/persons' \n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}\n","import React, { useState, useEffect } from 'react'\nimport '../app.css'\nimport axios from 'axios'\nimport Filter from './Filter'\nimport Form from './Form'\nimport Numbers from './Numbers'\nimport Success from './Success'\nimport Error from './Error'\nimport personService from '../services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n\n  useEffect(() => {\n    personService.getAll().then(persons => setPersons(persons))\n  }, [])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newPhoneNumber, setNewPhoneNumber] = useState('')\n  const [ showAll, setShowAll] = useState(true)\n  const [ searchText, setSearchText] = useState('')\n  const [ message, setMessage] = useState('')\n  const [ error, setError] = useState('')\n\n  const handleNewName = (event) => setNewName(event.target.value)\n  const handleNewPhoneNumber =(event) => setNewPhoneNumber(event.target.value)\n  const handleSearchText = (event) => {\n    setSearchText(event.target.value)\n    console.log(persons.filter(person => person.name.includes(searchText) ))\n    searchText !== null || searchText !== '' ? setShowAll(false) : setShowAll(true)\n  }\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(searchText.toUpperCase() ))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      phoneNumber: newPhoneNumber\n    }\n    if(persons.filter(p => p.name === newName).length > 0){\n        const oldPerson = persons.filter(p => p.name === newName)[0]\n        const updatePerson = {...oldPerson, phoneNumber:newPhoneNumber}\n        console.log(updatePerson,updatePerson.id)\n        window.alert(`${newName} is already added to phone book, replace the old number with a new one?`)\n\n        personService.update(updatePerson.id,updatePerson).then(returnedPerson => {\n          setPersons(persons.map(p => p.id === returnedPerson.id ? returnedPerson : p))\n          setNewName('')\n          setNewPhoneNumber('')\n          setMessage(`${returnedPerson.name} number updated successfully!`)\n          setTimeout(() => {setMessage('')},5000)\n        }).catch(error => setError(`${personObject.name} was already removed from the server`))\n    } else {\n      personService.create(personObject)\n      .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewPhoneNumber('')\n          setMessage(`${returnedPerson.name} added successfully!`)\n          setTimeout(() => {setMessage('')},5000)\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setError(error.response.data)\n      })\n    }\n  }\n\n  const removePerson = (id) => {\n    personService.remove(id).then(returnedPerson => {\n      setPersons(persons.filter(p => p.id !== id))\n    })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter searchText={searchText} handleSearchText={handleSearchText} />\n      <Success message={message} />\n      <Error error={error} />\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNewName={handleNewName}\n        newPhoneNumber={newPhoneNumber}\n        handleNewPhoneNumber={handleNewPhoneNumber}\n      />\n      <Numbers persons={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}